groups:
  - name: features
    pattern: "feature_*"
  - name: shared
    folder: "shared"
  - name: core
    pattern: "core_*"

rules:
  - name: "no_circular_dependencies"
    description: "Circular dependencies are not allowed"

  - name: "no_feature_to_feature"
    from: "pattern:feature_*"
    to: "pattern:feature_*"
    description: "Features cannot depend on other features"

  - name: "no_feature_to_feature"
    from: "folder:shared"
    to: "folder:shared"
    description: "Packages cannot depend on other packages in shared folder"

  - name: "no_feature_to_feature"
    from: "feature:feature_b"
    to: "feature:feature_a"
    inverse: true # This rule is inverse because we want to avoid circular dependencies
    allowed: false
    description: "Feature b cannot depend on feature a and vice versa"

  - name: "no_core_to_feature"
    allowed: false
    description: "Core modules cannot depend on features"

  - name: "core_to_core"
    allowed: false
    description: "Core modules can depend on other core modules"
